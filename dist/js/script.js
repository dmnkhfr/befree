var controller=new Vue({el:"#app",data:{airtable:{url:"https://api.airtable.com/v0/",key:"keyh86PHWCvZoFxPU",id:"appJfav4dlJdonWhY"},festivalInfo:[],locations:[],headliner:[],mediumActs:[],smallActs:[],currentCity:"",form:{gender:"",prename:"",name:"",email:"",address:"",zip:"",city:"",location:"",package:""},date:null,now:Math.trunc((new Date).getTime()/1e3),loading:!1,selectCityOverlay:!1},computed:{countdownSeconds:function(){return(this.date-this.now)%60},countdownMinutes:function(){return Math.trunc((this.date-this.now)/60)%60},countdownHours:function(){return Math.trunc((this.date-this.now)/60/60)%24},countdownDays:function(){return Math.trunc((this.date-this.now)/60/60/24)},countdownExpired:function(){return this.date-this.now<0}},methods:{toggleMenu:function(){document.querySelector("body").classList.toggle("openMenu")},selectCity:function(t){localStorage.setItem("selectedCity",t),this.currentCity=t,this.getData(),this.selectCityOverlay=!1},getData:function(){var e=this;e.loading=!0,axios.get(e.airtable.url+e.airtable.id+"/festivalInfo",{headers:{Authorization:"Bearer "+e.airtable.key},params:{filterByFormula:"IF(place = '"+e.currentCity+"', TRUE(), FALSE())"}}).then(function(t){e.festivalInfo=t.data.records,axios.get(e.airtable.url+e.airtable.id+"/acts",{headers:{Authorization:"Bearer "+e.airtable.key},params:{filterByFormula:"IF(category = 'Headliner', TRUE(), FALSE())"}}).then(function(t){e.headliner=t.data.records,axios.get(e.airtable.url+e.airtable.id+"/acts",{headers:{Authorization:"Bearer "+e.airtable.key},params:{filterByFormula:"IF(category = 'Medium Acts', TRUE(), FALSE())"}}).then(function(t){e.mediumActs=t.data.records,axios.get(e.airtable.url+e.airtable.id+"/acts",{headers:{Authorization:"Bearer "+e.airtable.key},params:{filterByFormula:"IF(category = 'Small Acts', TRUE(), FALSE())"}}).then(function(t){e.smallActs=t.data.records,e.date=Math.trunc(Date.parse(e.festivalInfo[0].fields.startTimestamp)/1e3),window.setInterval(function(){e.now=Math.trunc((new Date).getTime()/1e3)},1e3),baguetteBox.run(".gallery"),console.log("%c  ____        __                 _                          _       ","color: #54F"),console.log("%c | __ )  ___ / _|_ __ ___  ___  (_)___   _ __ ___  __ _  __| |_   _ ","color: #54F"),console.log("%c |  _ \\ / _ \\ |_| '__/ _ \\/ _ \\ | / __| | '__/ _ \\/ _` |/ _` | | | |","color: #54F"),console.log("%c | |_) |  __/  _| | |  __/  __/ | \\__ \\ | | |  __/ (_| | (_| | |_| |","color: #54F"),console.log("%c |____/ \\___|_| |_|  \\___|\\___| |_|___/ |_|  \\___|\\__,_|\\__,_|\\__, |","color: #54F"),console.log("%c                                                              |___/ ","color: #54F"),setTimeout(function(){e.loading=!1},100)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},getLocations:function(){var e=this;axios.get(e.airtable.url+e.airtable.id+"/festivalInfo",{headers:{Authorization:"Bearer "+e.airtable.key}}).then(function(t){e.locations=t.data.records}).catch(function(t){console.log(t)})}},mounted:function(){this.loading=!0,this.getLocations(),localStorage.getItem("selectedCity")?(this.currentCity=localStorage.getItem("selectedCity"),this.loading=!1,this.getData()):(this.selectCityOverlay=!0,this.loading=!1)}});