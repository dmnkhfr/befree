var airtableKey="keyO54NEvmY5VwVOO",airtableID="appJfav4dlJdonWhY",app=new Vue({el:"#app",data:{festivalInfo:[],acts:[],currentCity:localStorage.getItem("befree_city")},computed:{cityInfo:function(){for(var t=this.festivalInfo,e=0;e<t.length;e++){if(t[e].fields.place.toLowerCase()==this.currentCity)return t[e]}},groupedActs:function(){for(var t=this.acts,e={headliner:[],mediumActs:[],smallActs:[]},a=0;a<t.length;a++)"Headliner"==t[a].fields.category&&e.headliner.push(t[a]),"Medium Acts"==t[a].fields.category&&e.mediumActs.push(t[a]),"Small Acts"==t[a].fields.category&&e.smallActs.push(t[a]);return e}},mounted:function(){this.loadInfos(),this.loadActs()},methods:{toggleMenu:function(){document.querySelector("body").classList.toggle("openMenu")},loadInfos:function(){var e=this,t=airtableID,a=airtableKey;this.festivalInfo=[],axios.get("https://api.airtable.com/v0/"+t+"/Festival%20Info?view=Grid%20view",{headers:{Authorization:"Bearer "+a}}).then(function(t){e.festivalInfo=t.data.records}).catch(function(t){console.log(t)})},loadActs:function(){var e=this,t=airtableID,a=airtableKey;this.acts=[],axios.get("https://api.airtable.com/v0/"+t+"/Acts?view=Grid%20view",{headers:{Authorization:"Bearer "+a}}).then(function(t){e.acts=t.data.records}).catch(function(t){console.log(t)})}}});